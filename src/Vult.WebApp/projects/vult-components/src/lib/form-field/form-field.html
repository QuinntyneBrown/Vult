<mat-form-field
  appearance="outline"
  [class.form-field--valid]="isValid() && showValidation && !isFocused()"
  [class.form-field--error]="hasError"
  [attr.data-testid]="testId"
>
  <mat-label>
    {{ label }}
    @if (required) {
      <span class="form-field__required">*</span>
    }
  </mat-label>
  <input
    matInput
    [type]="type"
    [value]="value()"
    [disabled]="disabled()"
    [required]="required"
    [autocomplete]="autocomplete"
    (input)="onInput($event)"
    (focus)="onFocus()"
    (blur)="onBlur()"
  />
  @if (isValid() && showValidation && !isFocused()) {
    <mat-icon matSuffix class="form-field__check">check_circle</mat-icon>
  }
  @if (hint && !hasError) {
    <mat-hint>{{ hint }}</mat-hint>
  }
  @if (hasError && errorMessage) {
    <mat-error>{{ errorMessage }}</mat-error>
  }
</mat-form-field>
