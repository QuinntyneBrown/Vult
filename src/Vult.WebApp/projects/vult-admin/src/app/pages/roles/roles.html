<!-- Copyright (c) Quinntyne Brown. All Rights Reserved.
     Licensed under the MIT License. See License.txt in the project root for license information. -->
<div class="roles">
  <div class="roles__container">
    <div class="roles__list-section">
      <app-role-list
        [roles]="(roles$ | async) ?? []"
        [selectedRoleId]="(selectedRole$ | async)?.roleId || null"
        [isLoading]="(isLoading$ | async) ?? false"
        (selectRole)="onSelectRole($event)"
        (create)="onCreate()"
        (delete)="onDelete($event)"
      />
    </div>

    <div class="roles__edit-section">
      @if ((isCreating$ | async) || (selectedRole$ | async)) {
        <app-role-edit
          [role]="selectedRole$ | async"
          [isCreating]="(isCreating$ | async) ?? false"
          [isSaving]="(isSaving$ | async) ?? false"
          [errorMessage]="errorMessage$ | async"
          (save)="onSave($event)"
          (cancel)="onCancel()"
        />
      } @else {
        <mat-card class="roles__placeholder">
          <mat-card-content>
            <p>Select a role from the list or create a new one</p>
          </mat-card-content>
        </mat-card>
      }
    </div>
  </div>
</div>
