<!-- Copyright (c) Quinntyne Brown. All Rights Reserved.
     Licensed under the MIT License. See License.txt in the project root for license information. -->
<div class="invitation-tokens">
  <div class="invitation-tokens__container">
    <div class="invitation-tokens__list-section">
      <app-invitation-token-list
        [invitationTokens]="(invitationTokens$ | async) ?? []"
        [selectedTokenId]="(selectedToken$ | async)?.invitationTokenId || null"
        [isLoading]="(isLoading$ | async) ?? false"
        (selectToken)="onSelectToken($event)"
        (create)="onCreate()"
        (delete)="onDelete($event)"
      />
    </div>

    <div class="invitation-tokens__edit-section">
      @if ((isCreating$ | async) || (selectedToken$ | async)) {
        <app-invitation-token-edit
          [invitationToken]="selectedToken$ | async"
          [isCreating]="(isCreating$ | async) ?? false"
          [isSaving]="(isSaving$ | async) ?? false"
          [errorMessage]="errorMessage$ | async"
          (save)="onSave($event)"
          (cancel)="onCancel()"
        />
      } @else {
        <mat-card class="invitation-tokens__placeholder">
          <mat-card-content>
            <p>Select an invitation token from the list or create a new one</p>
          </mat-card-content>
        </mat-card>
      }
    </div>
  </div>
</div>
