<main class="home">
  <!-- Hero Section -->
  <v-hero-section
    [backgroundImage]="heroImage"
    imageAlt="Premium used Blue Jays New Era cap showcasing product quality"
    [title]="heroTitle"
    primaryCtaText="Shop"
    size="large"
    textPosition="center"
    theme="dark"
    [overlayGradient]="heroOverlay"
    (primaryCtaClick)="onShopClick()"
  ></v-hero-section>

  <!-- Featured Products Section -->
  <ng-container *ngIf="featuredProducts$ | async as featuredProducts">
    <section class="featured-products">
      <div class="featured-products__header">
        <v-typography variant="title-3">Featured Products</v-typography>
      </div>
      <div class="featured-products__carousel">
        <div class="featured-products__track">
          @for (product of featuredProducts; track product.id) {
            <div class="featured-products__item">
              <v-product-card
                [product]="product"
                (cardClick)="onProductClick($event)"
                (favoriteToggle)="onFavoriteToggle($event)"
              ></v-product-card>
            </div>
          }
        </div>
      </div>
    </section>
  </ng-container>

  <!-- Testimonials Section -->
  <ng-container *ngIf="testimonials$ | async as testimonials">
    <section class="testimonials">
      <div class="testimonials__header">
        <v-typography variant="title-3">Our customers love us</v-typography>
      </div>
      <div class="testimonials__carousel">
        <div class="testimonials__track">
          @for (testimonial of testimonials; track testimonial.id) {
            <div class="testimonials__item">
              <v-testimonial-card
                [testimonial]="testimonial"
              ></v-testimonial-card>
            </div>
          }
        </div>
      </div>
    </section>
  </ng-container>
</main>
